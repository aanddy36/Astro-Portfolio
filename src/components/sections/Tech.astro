---
import { getCollection } from "astro:content";
import SingleTech from "../SingleTech.astro";
import { MovingRow } from "../MovingRow.tsx";
import "../../index.css";

const logos = await getCollection("logos", ({ data }) => {
  return data.isUsed;
});
---

<main
  id="skills"
  class="mt-28 relative bg-[#100216] text-white mb-20 border-[#ffffff1c]
    flex flex-col items-center w-[80%] mx-auto rounded-2xl gap-4 py-10 overflow-hidden
    bg-gradient-to-b from-[#ffffff10] to-[#ffffff00]"
>
  <h3 class="text-[#fff] text-3xl laptop:text-5xl tablet:text-4xl font-bold text-center">
    Skills & Certifications
  </h3>
  <h5 class="text-[#ffffff96]">The dev tools and apps I use</h5>
  <section class="pt-10 relative">
    <div class="flex relative" style={{ left: "25%" }}>
      <MovingRow direction="left" client:visible>
        {logos.slice(0, 9).map((logo) => <SingleTech logo={logo} />)}
      </MovingRow>
      <MovingRow direction="left" client:visible>
        {logos.slice(0, 9).map((logo) => <SingleTech logo={logo} />)}
      </MovingRow>
    </div>
    <div class="flex relative" style={{ right: "25%" }}>
      <MovingRow direction="right" client:load>
        {logos.slice(9).map((logo) => <SingleTech logo={logo} />)}
      </MovingRow>
      <MovingRow direction="right" client:load>
        {logos.slice(9).map((logo) => <SingleTech logo={logo} />)}
      </MovingRow>
    </div>
  </section>
</main>
